<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>smartJQ test</title>
    <link rel="stylesheet" href="qunit-1.15.0.css" />
    <style>
        .test_group {
            margin-top: 50px;
        }
    </style>
    <script src="qunit-1.15.0.js"></script>
    <script src="../src/smartjq.js"></script>
    <!--    <script src="jquery-3.1.1.js"></script>-->
    <!--                        <script src="zepto.js"></script>-->
</head>

<body>
    <h1 id="qunit-header">smartJQ test</h1>
    <h2 id="qunit-banner"></h2>
    <ol id="qunit-tests"></ol>

    <div class="test_group">
        <div id="tar0">
            <div class="tar0_ele"></div>
            <div class="tar0_ele"></div>
            <div class="tar0_ele"></div>
        </div>
        <script>
            QUnit.test("core", function(assert) {
                assert.ok($('.tar0_ele').length, 'length ok');

                //获取成数组类型
                var arr = $('.tar0_ele').get();
                //确认arr不是$对象
                assert.ok(!arr.addClass, 'is array');

                //转换对象测试
                assert.ok(!!$(arr).addClass, 'is $');
            });
        </script>
    </div>



    <div class="test_group">
        <div id="tar1">
            <div class="tar1_test1" style="font-size:13px;"></div>
            <div class="tar1_test2"></div>
            <div class="tar1_test3"></div>
            <div class="tar1_test3"></div>
        </div>
        <script>
            QUnit.test("css", function(assert) {
                //测试获取样式
                var t1f = $('.tar1_test1').css('font-size');
                assert.ok(t1f == "13px", 'css get fontSize');

                //设置样式
                $('.tar1_test2').css('font-size', "14px");
                var t2f = $('.tar1_test2').css('font-size');
                assert.ok((t2f == "14px"), 'css set fontSize');

                //object设置样式
                $('.tar1_test3').css({
                    "font-size": "15px",
                    "line-height": "20px"
                });
                var t3f = $('.tar1_test3').css('font-size');
                var t3l = $('.tar1_test3').css('line-height');
                assert.ok((t3f == "15px") && (t3l == "20px"), 'css obj set color');

                //获取第二个元素样式
                assert.ok($('.tar1_test3')[1].style['font-size'] == "15px", 'the second element is no problem');
                assert.ok($($('.tar1_test3')[1]).css('font-size') == "15px", 'the second element is no problem');
            });
        </script>
    </div>


    <div class="test_group">
        <div id="tar2">
            <div class="tar2_test1" kaka="luote"></div>
            <div class="tar2_test2"></div>
            <div class="tar2_test3"></div>
            <div class="tar2_test3"></div>
        </div>
        <script>
            QUnit.test("attr", function(assert) {
                //获取属性测试
                var t1a = $('.tar2_test1').attr('kaka');
                assert.ok(t1a == "luote", 'attr get');

                //设置属性
                $('.tar2_test2').attr('fake', "u2");
                var t2a = $('.tar2_test2').attr('fake');
                assert.ok(t2a == "u2", 'attr set');

                //object设置属性
                $('.tar2_test3').attr({
                    "beau": "tiful",
                    "cong": "ratulate"
                });
                assert.ok($('.tar2_test3').attr('beau') == "tiful" && $('.tar2_test3').attr('cong') == "ratulate", "attr obj set");

                //第二个元素属性
                assert.ok($($('.tar2_test3')[1]).attr('beau') == "tiful", "the second element is no problem");
            });
        </script>
    </div>



    <div class="test_group">
        <div id="tar3">
            <div class="tar3_test" a1="true"></div>
            <div class="tar3_test" a1="true"></div>
        </div>
        <script>
            QUnit.test("removeAttr", function(assert) {
                var tar3_test = $('.tar3_test');

                //确认个数
                assert.ok(tar3_test.length == 2, 'count ok!');

                //去除属性
                tar3_test.removeAttr('a1');
                assert.ok(tar3_test[0].getAttribute('a1') == undefined && tar3_test[1].getAttribute('a1') == undefined, "removeOK");
            });
        </script>
    </div>




    <div class="test_group">
        <div class="tar4_fade"></div>
        <div id="tar4">
            <div class="tar4_test1"></div>
            <div class="tar4_test2"></div>
            <div class="tar4_test3"></div>
            <div class="tar4_test3"></div>
        </div>
        <script>
            QUnit.test("element control", function(assert) {
                var tar4_fade = $('.tar4_fade');
                tar4_fade[0].kaka = "fa";

                $('.tar4_test3').append(tar4_fade);

                //判断个数
                assert.ok($('.tar4_fade').length == 2, 'count ok!');

                //判断节点正确性
                assert.ok($('.tar4_fade')[1].kaka == "fa", 'element data ok!');
            });
        </script>
    </div>



    <div class="test_group">
        <div id="tar5">
            <div class="tar5_a1"></div>
            <div class="tar5_a1">
                <div class="tar5_a1_c"></div>
            </div>
            <div class="tar5_a1">
                <div class="tar5_a1_c"></div>
            </div>
            <div class="tar5_a2"></div>
        </div>
        <script>
            QUnit.test("find", function(assert) {
                assert.ok($('#tar5').find('.tar5_a1').length == 3, 'count ok');
                assert.ok($('#tar5').find('.tar5_a1').find('.tar5_a1_c').length == 2, 'count ok2');
            });
        </script>
    </div>


    <div class="test_group">
        <div id="tar5x_1">
            <div class="tar5x_1_ele">
                <div class="tar5x_1_ele_c1"></div>
                <div class="tar5x_1_ele_c2"></div>
                <div class="tar5x_1_ele_c3"></div>
            </div>
            <div class="tar5x_1_ele">
                <div class="tar5x_1_ele_c3"></div>
                <div class="tar5x_1_ele_c2"></div>
                <div class="tar5x_1_ele_c3"></div>
            </div>
        </div>
        <script>
            QUnit.test("children", function(assert) {

                assert.ok($('.tar5x_1_ele').children().length == 6, 'count 6 ok');
                assert.ok($('.tar5x_1_ele').children('.tar5x_1_ele_c3').length == 3, 'count 3 ok');
                assert.ok($('.tar5x_1_ele').children('.tar5x_1_ele_c2').length == 2, 'count 2 ok');
                assert.ok($('.tar5x_1_ele').children('.tar5x_1_ele_c1').length == 1, 'count 1 ok');
            });
        </script>
    </div>






    <div class="test_group">
        <div id="tar6">
            <ul>
                <div class="tar6_foo"></div>
                <div class="tar6_bar"></div>
                <div class="tar6_baz"></div>
            </ul>
            <ul>
                <div class="tar6_baz"></div>
                <div class="tar6_foo" id="tar6_foo_2"></div>
                <div class="tar6_bar"></div>
            </ul>
        </div>
        <script>
            QUnit.test("index", function(assert) {
                assert.ok($('.tar6_baz').index() == 2, 'get index ok');

                assert.ok($('#tar6 div').index($('.tar6_foo')[1]) == 4, 'element index ok');

                assert.ok($('#tar6 div').index($('#tar6_foo_2')) == 4, "$element index ok");

                assert.ok($('#tar6 div').index($('.tar6_bar')) == 1, "$element index ok 2");

                assert.ok($('#tar6_foo_2').index('#tar6 div') == 4, "index string ok");
            });
        </script>
    </div>






    <div class="test_group">
        <div id="tar7" class="haha2"></div>
        <!--        <div id="tar7"></div>-->
        <script>
            QUnit.test("class Function", function(assert) {
                //hasclass是否生效
                assert.ok($('#tar7').hasClass('haha') == false, 'hasClass');

                //添加class
                $('#tar7').addClass('haha');
                assert.ok($('#tar7').hasClass('haha'), 'addClass');

                $('#tar7').removeClass('haha');
                assert.ok($('#tar7').hasClass('haha') == false, 'removeClass');

                $('#tar7').toggleClass('haha');
                assert.ok($('#tar7').hasClass('haha'), 'toggleClass 1 ok');

                $('#tar7').toggleClass('haha');
                assert.ok($('#tar7').hasClass('haha') == false, 'toggleClass 2 ok');

            });
        </script>
    </div>


    <div class="test_group">
        <div id="tar8">
            <div class="tar8_ele" haha="1"></div>
            <div class="tar8_ele" haha="2"></div>
        </div>
        <script>
            QUnit.test("map", function(assert) {
                var tar8data = $('.tar8_ele').map(function(i, e) {
                    assert.ok(this.nodeType, "isNode");
                    return i;
                });
                assert.ok(tar8data.length, 'map count ok');
                assert.ok(!!tar8data.addClass, 'function ok');
            });
        </script>
    </div>




    <div class="test_group">
        <div id="tar9">
            <div class="tar9_ele haha"></div>
            <div class="tar9_ele" kk="1"></div>
            <div class="tar9_ele haha"></div>
            <div class="tar9_ele"></div>
            <div class="tar9_ele haha" kk="2"></div>
        </div>
        <script>
            QUnit.test("filter", function(assert) {
                assert.ok($('.tar9_ele').filter('.haha').length == 3, 'count ok');

                assert.ok($('.tar9_ele').filter(function(i, e) {
                    return e.getAttribute('kk');
                }).length == 2, "filter function ok");

            });
        </script>
    </div>



    <div class="test_group">
        <div id="tar10">
            <div class="tar10_ele haha"></div>
            <div class="tar10_ele kaka"></div>
            <div class="tar10_ele haha"></div>
        </div>
        <script>
            QUnit.test("not", function(assert) {
                assert.ok($('.tar10_ele').not('.haha').length == 1, 'not ok');
            });
        </script>
    </div>



    <div class="test_group">
        <div id="tar11">
            <div class="tar11_ele" a="10"></div>
            <div class="tar11_ele" a="20"></div>
            <div class="tar11_ele" a="30"></div>
            <div class="tar11_ele" a="40"></div>
            <div class="tar11_ele" a="50"></div>
        </div>
        <script>
            QUnit.test("slice", function(assert) {
                assert.ok($('.tar11_ele').slice(1, 2).attr('a') == 20, 'slice ok');
                assert.ok($('.tar11_ele').slice(1).length == 4, 'slice length ok');
                assert.ok($('.tar11_ele').slice(-2).length == 2, 'slice length2 ok');
                assert.ok($('.tar11_ele').slice(5).length == 0, 'slice length3 ok');
                assert.ok($('.tar11_ele').slice(-2, 5).length == 2, 'slice length4 ok');
                assert.ok($('.tar11_ele').slice(-2, 100).length == 2, 'slice length5 ok');
            });
        </script>
    </div>




    <div class="test_group">
        <div id="tar12">
            <div class="tar12_ele" a="10"></div>
            <div class="tar12_ele" a="20"></div>
            <div class="tar12_ele" a="30"></div>
            <div class="tar12_ele" a="40"></div>
            <div class="tar12_ele" a="50"></div>
        </div>
        <script>
            QUnit.test("eq", function(assert) {
                assert.ok($('.tar12_ele').eq(1).attr('a') == 20, 'index ok');
                assert.ok($('.tar12_ele').eq(-1).attr('a') == 50, 'index2 ok');
                assert.ok($('.tar12_ele').eq(-2).attr('a') == 40, 'index3 ok');
            });
        </script>
    </div>






    <div class="test_group">
        <div id="tar13">
            <div class="tar13_con haha">
                <div class="tar13_ch"></div>
            </div>
            <div class="tar13_con haha">
                <div class="tar13_ch"></div>
            </div>
            <div class="tar13_con">
                <div class="tar13_ch"></div>
                <div class="tar13_ch"></div>
            </div>
        </div>
        <script>
            QUnit.test("parent", function(assert) {
                assert.ok($('.tar13_ch').parent().length == 3, 'parent count ok');

                assert.ok($('.tar13_ch').parent('.haha').length == 2, 'parent filter ok');
            });
        </script>
    </div>



    <div class="test_group">
        <div id="tar14">
            <div class="tar14_ele1">
                <div class="tar14_ele_c1"></div>
                <div class="tar14_ele_c1"></div>
            </div>
            <div class="tar14_ele2">
                <div class="tar14_ele_c1"></div>
            </div>
            <div class="tar14_ele1">
                <div class="tar14_ele_c1"></div>
            </div>
        </div>
        <script>
            QUnit.test("parents", function(assert) {
                assert.ok($('.tar14_ele_c1').parents().length == 7, 'parents ok');
                assert.ok($('.tar14_ele_c1').parents('.tar14_ele1').length == 2, 'parents ok');
            });
        </script>
    </div>





    <div class="test_group">
        <div id="tar15"></div>
        <div id="tar15_2" data-cao="300"></div>
        <script>
            QUnit.test("data , removeData", function(assert) {

                assert.ok($('#tar15').data('haha') == undefined, 'data get data  ok');

                $('#tar15').data('haha', 100)
                assert.ok($('#tar15').data('haha') == 100, 'data set ok');
                assert.ok($('#tar15').attr('data-haha') == undefined, 'data no attr');

                $('#tar15,#tar15_2').data({
                    haha: 200,
                    kaka: "luote"
                });
                assert.ok($('#tar15').data('haha') == 200, 'data change ok');
                assert.ok($('#tar15').data('kaka') == 'luote', 'object data ok');

                assert.ok($('#tar15_2').data('cao') == 300, 'attr data ok');
                assert.ok($('#tar15_2').data('haha') == 200, 'data ok 2');

                $('#tar15_2').data('cao', "400")
                assert.ok($('#tar15_2').data('cao') == 400, 'data ok 3');
                assert.ok($('#tar15_2').attr('data-cao') == 300, 'attr data ok 2');

                //                console.log($('#tar15_2').data());
            });
        </script>
    </div>



    <!--

    <div class="test_group">
        <div id="tar">
        </div>
        <script>
            QUnit.test("attr", function(assert) {
                assert.ok(true, 'base');
            });
        </script>
    </div>

-->

    <!--
    <div class="test_group">
        <div id="tarx9">
            <div class="tarx9_ele1"></div>
            <div class="tarx9_ele1"></div>
            <div class="tarx9_ele2">
                <div>haha</div>
            </div>
        </div>
        <script>
            QUnit.test("clone", function(assert) {
                var tarx9_ele1 = $('.tarx9_ele1').clone();
                $('#tarx9').append(tarx9_ele1);
                assert.ok($('.tarx9_ele1').length == 4, 'clone count ok');

                //设置事件
                //                $('.tarx9_ele2 div').bind('click', function() {
                //                    console.log('haha');
                //                });
                //
                //                var tarx9_ele2 = $('.tarx9_ele2').clone(true);
                //                $('#tarx9').append(tarx9_ele2);
            });
        </script>
    </div>

-->





</body>

</html>